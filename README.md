
<h1 align="center">    
üìöBookmarks    
</h1>    

<p align="center">    
   <img src="src\main\resources\static\assets\isotipoLight.svg" width="35%"/>    
</p>    
<p align="center">  
   <img src="https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white"/>  
   <img src="https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white"/>  
   <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"/>  
   <img src="https://img.shields.io/badge/jQuery-0769AD?style=for-the-badge&logo=jquery&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Markdown-000000?style=for-the-badge&logo=markdown&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Apache%20Maven-C71A36?style=for-the-badge&logo=Apache%20Maven&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=Spring-Security&logoColor=white"/>  
   <img src="https://img.shields.io/badge/MySQL-005C84?style=for-the-badge&logo=mysql&logoColor=white"/>  
   <img src="https://img.shields.io/badge/IntelliJ_IDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Visual_Studio_Code-0078D4?style=for-the-badge&logo=visual%20studio%20code&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Adobe%20Illustrator-FF9A00?style=for-the-badge&logo=adobe%20illustrator&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Miro-050038?style=for-the-badge&logo=Miro&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Trello-0052CC?style=for-the-badge&logo=trello&logoColor=white"/>  
   <img src="https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white"/>  
   <img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white"/>
   <img src="https://img.shields.io/badge/chart.js-F5788D.svg?style=for-the-badge&logo=chart.js&logoColor=white"/>
   <img src="https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white"/>
</p>  


## ‚úÖ Tabla de Contenido

- [Autores](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-autores)
- [Trello](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#%EF%B8%8F-trello)
- [Entidades](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#%EF%B8%8F-entidades)
- [Permisos de los usuarios](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-permisos-de-los-usuarios)
- [Im√°genes](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#%EF%B8%8F-im%C3%A1genes)
- [Gr√°ficos](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-gr%C3%A1ficos)
- [Tecnolog√≠a complementaria](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-tecnolog%C3%ADa-complementaria)
- [Algoritmos o consulta avanzada](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-algoritmos-o-consulta-avanzada)
- [Pantallas](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-pantallas)
- [Mapa de navegaci√≥n](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-mapa-de-navegaci%C3%B3n)
- [Instalaci√≥n](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#%EF%B8%8F-instalaci%C3%B3n)
- [Participaci√≥n](https://github.com/CodeURJC-DAW-2023-24/webapp03/tree/Database-Implementation?tab=readme-ov-file#-participaci%C3%B3n)

## üíª Autores:
|Nombre          |Correo                         |Cuenta                       | 
|----------------|-------------------------------|-----------------------------| 
|Sergio Antonio Olivares del √Ångel| sa.olivares.2020@alumnos.urjc.es|[Mercii01](https://github.com/Mercii01)|
|Pablo Antol√≠n Mart√≠nez|p.antolin.2020@alumnos.urjc.es|[Pbantolin12](https://github.com/Pbantolin12)|
|Izan Ruiz Ballesteros|i.ruizba.2021@alumnos.urjc.es|[Etheko](https://github.com/Etheko)|
|Blas Vita Ramos|b.vita.2020@alumnos.urjc.es|[Blasetvrtumi](https://github.com/Blasetvrtumi)|
|Diego Rodr√≠guez Gallego|d.rodriguezgal.2020@alumnos.rujc.es|[DiRoGa](https://github.com/DiRoGa)|   

## üóÇÔ∏è Trello
Se utilizar√° la herramienta de trabajo "Trello" para facilitar la coordinaci√≥n del equipo durante esta pr√°ctica. El link es el siguiente: [EntrePaginas](https://trello.com/w/entrepaginas)

## ‚öõÔ∏è Entidades
- Usuarios
- Libros
- Rese√±as
- Autor
- Genero

En cuanto a las relaciones entre las entidades, podemos notar que un usuario puede buscar libros y realizar rese√±as. Un usuario puede unirse a comunidades y solicitar a un administrador que su p√°gina se convierta en p√°gina de autor. Este autor puede modificar su informaci√≥n para ser buscado m√°s f√°cilmente por los usuarios, as√≠ como poder a√±adir libros que ha escrito. Todos los libros tienen un g√©nero al que se le asocia para realizar b√∫squedas de manera m√°s sencilla. Finalmente, cualquier usuario que sea parte de una comunidad podr√° realizar publicaciones.

## üë• Permisos de los usuarios
- An√≥nimo: Este usuario puede buscar libros, consultar rese√±as y consultar foro de la comunidad.
- Usuario registrado: El usuario registrado puede realizar las funciones de los usuarios an√≥nimos y adem√°s podr√° modificar listas (por leer y le√≠dos), modificar rese√±as (solo podr√° a√±adir rese√±as de libros que haya marcado como le√≠dos), unirse a comunidades, publicar en comunidades, crear comunidades, eliminar y a√±adir miembros a las comunidades (si se es administrador de comunidad), a√±adir, eliminar y editar sus publicaciones en la comunidad, solicitar rango de autor y modificar datos de su perfil de autor asi como la informaci√≥n de los libros sobre los que tiene permiso (Es autor del libro).
- Usuario administrador: Este usuario puede realizar las mismas acciones que el usuario registrado, pero adem√°s podr√° modificar bases de datos, otorgar rango de autor a usuarios registrados y expulsar usuarios registrados.

## üñºÔ∏è Im√°genes
En cuanto a las entidades que tienen asociadas im√°genes, podemos encontrar
- Usuarios: Los usuarios tienen la oportunidad de a√±adir una imagen de perfil, aunque si no desean a√±adir una, se les asignara autom√°ticamente.
- Libros: A todos los libros se les asociar√° una imagen de portada.

## üìä Gr√°ficos
Se crear√°n distintos gr√°ficos, estos se pueden dividir en 3 tipos.

### Gr√°ficos generales
- Ranking de los 5 g√©neros m√°s populares (m√°s le√≠dos). // *Gr√°fico de barras*

### Gr√°ficos de administrador
- Autores m√°s populares del sitio. // *Gr√°fico tipo Doughnut*
- Usuarios que m√°s libros han le√≠do. // *Gr√°fico de barras*

## ü™õ Tecnolog√≠a complementaria
Para complementar la p√°gina, se incluir√≠an las siguientes tecnolog√≠as:
- Sistema de notificaciones por correo electr√≥nico en caso de cambio de contrase√±a.
- Exportaci√≥n de listas de libros de usuarios a ficheros de valores separados por comas.

## üßÆ Algoritmos o consulta avanzada
Se implementar√° un algoritmo de recomendaciones de libros en la p√°gina principal en funci√≥n de la cantidad de libros que un usuario haya marcado como le√≠dos seg√∫n los atributos de los libros (autor y g√©nero).

## üìü Pantallas
- Inicio de sesi√≥n:

<img height="100%" src="src\main\resources\static\assets\documentation\login.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Pantalla de acceso para usuarios registrados y administradores</p>      

- Registro:

<img height="100%" src="src\main\resources\static\assets\documentation\signup.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Aqu√≠ es donde un usuario se da de alta</p>      

- B√∫squeda de libros:

<img height="100%" src="src\main\resources\static\assets\documentation\searchResults.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Pantalla que muestra coincidencias en la b√∫squeda de un libro</p>      

- Inicio:

<img height="100%" src="src\main\resources\static\assets\documentation\landingPage.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Pantalla principal que da acceso a todas las dem√°s</p>      

- Administrador:

<img height="100%" src="src\main\resources\static\assets\documentation\administrator.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Panel de control de un administrador</p>      

- Crear/modificar libro:

<img height="100%" src="src\main\resources\static\assets\documentation\bookEdit.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Esta pantalla sirve tanto para crear como para modificar un libro y su informaci√≥n</p>      

- Consultar libro:

<img height="100%" src="src\main\resources\static\assets\documentation\bookInfo.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Aqu√≠ se puede consultar individualmente la informaci√≥n de un libro almacenado en una Base de Datos</p>      

- Perfil:

<img height="100%" src="src\main\resources\static\assets\documentation\profile.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Pantalla de visualizaci√≥n de perfil con varias opciones como habilitar la edici√≥n</p>      

- Modificar perfil:

<img height="100%" src="src\main\resources\static\assets\documentation\editProfile.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Men√∫ de edici√≥n de la informaci√≥n al completo del usuario, como por ejemplo la contrase√±a</p>      

- Error:

<img height="100%" src="src\main\resources\static\assets\documentation\error.png" width="50%"/>      
<p style="text-align: left; font-size: 9px">Men√∫ de error que muestra los detalles del mismo y que puede ser mostrado desde cualquier otra pantalla dependiendo del error.</p>      

## üîÄ Mapa de navegaci√≥n

<img src="src\main\resources\static\assets\documentation\map.jpg"/>    

## üõ†Ô∏è Instalaci√≥n

### Requisitos previos:
Para poder instalar y ejecutar la aplicaci√≥n correctamente es necesario:

- [Java Development Kit versi√≥n 17 Amazon corretto](https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/downloads-list.html)
- [MySQL 8.3.0](https://dev.mysql.com/downloads/mysql/)
- [Springboot 3.2.2](https://github.com/spring-projects/spring-boot/releases/tag/v3.2.2)
- [Maven 3.9.6](https://maven.apache.org/download.cgi)


- IMPORTANTE: La aplicaci√≥n hace uso de un fichero que contiene dos variables de entorno (usuario y contrase√±a de la cuenta de Google utilizada para el env√≠o de correos electr√≥nicos), este fichero no se encuentra publicado en el repositorio por razones de seguridad. El fichero lo proporcionar√° el equipo de desarrollo a quien lo necesite.


### Pasos para la instalaci√≥n:
1. Clona el repositorio a tu ruta deseada:    
   `git clone https://github.com/CodeURJC-DAW-2023-24/webapp03`
2. Conectarse a la base de datos:    
   `docker run -d --name bookmarksDB -p 3306:3306 -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=bookmarks mysql:latest`
3. Hacer clean and Build del proyecto y ejecutar la aplicaci√≥n (seg√∫n IDE)
4. Abrir la aplicaci√≥n en el navegador deseado:    
   `start https://localhost:8443`

## üìã Participaci√≥n

### En esta fase
#### Izan Ruiz Ballesteros:
Se han enlazado todas las p√°ginas mediante Spring, se ha creado, desplegado y conectado la base de datos, as√≠ como el control de los ficheros que se guardan en ella (im√°genes); se ha implementado AJAX en las p√°ginas principales que muestran m√∫ltiples elementos. As√≠ mismo, se han implementado diversas tecnolog√≠as complementarias como el env√≠o de correos electr√≥nicos o la exportaci√≥n a CSV de determinados datos. Se ha gestionado el control y seguridad de los usuarios y de la web, y se ha implementado un algoritmo de recomendaciones.

#### Sergio Antonio Olivares del √Ångel:
En esta fase me dedique a trabajar en distinas partes del sistema con tareas diferentes. La lista de tareas que realice en esta fase es: Controlar usuario, admin y autor, donde se verifica que en el caso de un usuario solo pueda moficiar su perfil, en el caso de un autor, solo pueda modificar su libro y finalmente los admins pueda modificar cualquier informacion; Adicion de imagenes en los libros, que consistio en convertir las imagenes en tipo Blob para poder guardarlas en la base de datos y posteriormente convertirlas en String en Base64 para poder mostrarlas en el HTML; Registro de usuario, que a√±ade funciones donde se verifica el que el nombre de usuario no este ocupado y que la contrase√±a tenga 4 caracteres y 1 un numero asi como que coinicida con ambos inputs de contrase√±a para asegurar que no hubo fallos; Modificacion de libros, donde cree la base de modificacion de libros antes de integrar la base de datos; Adicion de libros, donde los admins pueden crear libros y se ligaran los datos correspondientes, como Genero y Autor y finalmente se actualizara la base de datos; Banear usuarios, el admin tiene la funcionalidad de borrar usuarios de la base de datos y por tanto eliminar su pagina de perfil; Convertir en autor a los usuarios, un admin puede a√±adir el rol de Autor en los usuarios para que puedan modificar sus libros.

#### Pablo Antol√≠n Mart√≠nez:
Durante esta fase me he encargado de implementar la seguridad en la p√°gina web. Se ha a√±adido un certificado autofirmado para que est√© implementado https y tambi√©n se ha a√±adido seguridad contra ataques CSRF, con sus respectivos tokens. 
Tambi√©n se ha implementado el control de acceso a la web mediante distintos roles de usuarios, an√≥nimo, registrado, autor y administrador. Cada usuario tiene permitido al acceso a determinadas p√°ginas, evitando que puedan acceder a alguna de ellas sin permiso y puedan hacer cambios que no est√°n permitidos. 
Se han enlazado correctamente todas las p√°ginas y se ha ajustado qu√© ve cada usuario en la navbar. Adem√°s, se ha a√±adido una p√°gina de loginError, que, en el caso de que el usuario introduzca mal sus credenciales, ser√° redireccionado a esta misma.

| Miembro                                                          | Commit #1                                                                                                                              | Commit #2                                                                                                                                        | Commit #3                                                                                                                                                | Commit #4                                                                                                                                                          | Commit #5                                                                                                                                     | Archivo #1                                                                                                                                                                                    | Archivo #2                                                                                                                                                                                        | Archivo #3                                                                                                                                      | Archivo #4                                                                                                                                              | Archivo #5                                                                                                                                          |
 |------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------| 
| [Sergio Antonio Olivares del Angel](https://github.com/Mercii01) | [Book images can now be uploaded and saved in DB](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/2ae7c8706eefb15b71523a4485d55e4b2afb9979) | [Ban Users (Delete from DB)](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/e08b6616897f6f4a1deed679b40d78e99476f1f3)                   | [Users can now register and requirements are checked](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/02fca970042a9e4d98a4b487c6f721117cafcfbc)  | [User,Author and Admin button controls](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/56f439a089eed746a61657e6310d6f3e0034a660)                          | [Admins can now add books](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/7e5ff9eaddcaf4db5a09917cfcc039008ed1c313)                  | [AdminPageController.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blame/Database-Implementation/src/main/java/es/codeurjc/holamundo/controller/AdminPageController.java)            | [ProfilePageController.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blame/Database-Implementation/src/main/java/es/codeurjc/holamundo/controller/ProfilePageController.java)            | [SignupPageController.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blame/Database-Implementation/src/main/java/es/codeurjc/holamundo/controller/SignUpPageController.java) | [BookPageController.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blame/Database-Implementation/src/main/java/es/codeurjc/holamundo/controller/BookPageController.java) | [Signup.js](https://github.com/CodeURJC-DAW-2023-24/webapp03/blame/Database-Implementation/src/main/resources/static/js/signUp.js)                  | 
| [Pablo Antol√≠n Mart√≠nez](https://github.com/Pbantolin12) | [HTTPS implemented](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/64535f52f93a6761defd52dc63bd396feb8602eb) | [LoginErrorpage and controller implemented](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/128f8a0a46923cf6b8698e9c761155258d743cc2) | [Implemented login with data base credentials](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/41879b92dbce999c95e150c7a2994c15856d1696) | [Implemented CSRF](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/a502ad1472e38e9b8db3ae2402b26715e13a8a17) | [Fixed Navbar links and logout button](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/740dd828ee657339bbdec35024f89e53c73b48ab) | [WebSecurityConfiguration.java](src/main/java/es/codeurjc/webapp03/security/WebSecurityConfiguration.java) | [CSRFHandlerConfiguration.java](src/main/java/es/codeurjc/webapp03/security/CSRFHandlerConfiguration.java) | [loginError.html](src/main/resources/templates/loginError.html) | [loginErrorController.java](src/main/java/es/codeurjc/webapp03/controller/loginErrorController.java) | [ProfilePageController.java](src/main/java/es/codeurjc/webapp03/controller/ProfilePageController.java) |
| [Izan Ruiz Ballesteros](https://github.com/Etheko)               | [Data added to Database](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/a40358089815945b5cba0ac1f5d0b11b2d11fdd5)             | [AJAX fully fixed and finalized on main pages](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/66516b601089f109dd77bab6e1ed8882dbdedbfb) | [Landing Page Recommendations algorithm](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/d85b20b6bea046b824d8a000b52e529a428ecf19)               | [Reviews System fully implemented](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/a44d626de25c43ddb949712d238cf22ac4dbb911)                               | [All important pages connected with Spring](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/85e911684e8c8e9239da1ce3d40d6e146fbd74ea) | [AuthorSampleService.java](src/main/java/es/codeurjc/webapp03/service/AuthorSampleService.java)                                                                                              | [BookSampleService.java](src/main/java/es/codeurjc/webapp03/service/BookSampleService.java)                                                                                                      | [GenreSampleService.java](src/main/java/es/codeurjc/webapp03/service/GenreSampleService.java)                                                  | [UserInitializationSampleService.java](src/main/java/es/codeurjc/webapp03/service/UserInitializationSampleService.java)                                | [UserReviewSampleService.java](src/main/java/es/codeurjc/webapp03/service/UserReviewSampleService.java)                                            | 
| [Blas Vita Ramos](https://github.com/Blasetvrtumi)               | [Updated README.md with screenshots](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/fac896b630f94a503d6852ac1ad5a3de1b0ca006) | [Profile view and edition integrated](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/235f9aca8b8b561d0083c2685c25a1fd989b50a6)          | [Dynamic search results loading with AJAX implemented](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/4369e591eb08d897bd05db7c6e4ab62ea00a782e) | [Profile image uploading and saving in database now implemented](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/94dd67b09f73bb4e907608d873b7f06c3e20db96) | [Password change now fully implemented](https://github.com/CodeURJC-DAW-2023-24/webapp03/commit/393f1498c6b9ed1aa037ab18926deabf6fd76d86)     | [EditProfilePageController.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blob/Database-Implementation/src/main/java/es/codeurjc/holamundo/controller/EditProfilePageController.java) | [SearchResultsPageController.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blob/Database-Implementation/src/main/java/es/codeurjc/holamundo/controller/SearchResultsPageController.java) | [User.java](https://github.com/CodeURJC-DAW-2023-24/webapp03/blob/Database-Implementation/src/main/java/es/codeurjc/holamundo/entity/User.java) | [searchResultsPage.js](https://github.com/CodeURJC-DAW-2023-24/webapp03/blob/Database-Implementation/src/main/resources/static/js/searchResultsPage.js) | [editProfilePage.js](https://github.com/CodeURJC-DAW-2023-24/webapp03/blob/Database-Implementation/src/main/resources/static/js/editProfilePage.js) | 
| [Diego Rodr√≠guez Gallego](https://github.com/DiRoGa)             |                                                                                                                                        |                                                                                                                                                  |                                                                                                                                                          |                                                                                                                                                                    |                                                                                                                                               |                                                                                                                                                                                               |                                                                                                                                                                                                   |                                                                                                                                                 |                                                                                                                                                         |                                                                                                                                                     |
